<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Interactive Web Form Assignment</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>
    <style>
      .error-text {
        color: red;
        font-size: 0.9rem;
        margin-top: 3px;
      }
    </style>
  </head>
  <body class="bg-light">
    <div class="container mt-5">
      <div class="card shadow">
        <div class="card-body">
          <h3 class="mb-4">Interactive Web Form</h3>

          <!-- Username -->
          <div class="mb-3">
            <label class="form-label">Username</label>
            <input type="text" id="username" class="form-control" />
            <small class="error-text" id="userNameErr"></small>
          </div>

          <!-- Email -->
          <div class="mb-3">
            <label class="form-label">Email</label>
            <input type="email" id="email" class="form-control" />
            <small class="error-text" id="emailErr"></small>
          </div>

          <!-- Password -->
          <div class="mb-3">
            <label class="form-label">Password</label>
            <input type="password" id="password" class="form-control" />
            <small class="error-text" id="passwordErr"></small>
          </div>

          <!-- Confirm Password -->
          <div class="mb-3">
            <label class="form-label">Confirm Password</label>
            <input type="password" id="confirmPassword" class="form-control" />
            <small class="error-text" id="confirmPasswordErr"></small>
          </div>

          <!-- Interesting Topics -->
          <div class="mb-3">
            <label class="form-label fw-bold">
              Interesting Topics
              <span class="error-text ms-2" id="topicsErr"></span>
            </label>

            <div class="form-check">
              <input class="form-check-input topic" type="checkbox" id="topic1" value="HTML" />
              <label class="form-check-label" for="topic1">HTML</label>
            </div>

            <div class="form-check">
              <input class="form-check-input topic" type="checkbox" id="topic2" value="CSS" />
              <label class="form-check-label" for="topic2">CSS</label>
            </div>

            <div class="form-check">
              <input class="form-check-input topic" type="checkbox" id="topic3" value="JavaScript" />
              <label class="form-check-label" for="topic3">JavaScript</label>
            </div>
          </div>

          <!-- Gender -->
          <div class="mb-3">
            <label class="form-label fw-bold">
              Gender
              <span class="error-text ms-2" id="genderErr"></span>
            </label>
            <select id="gender" class="form-select">
              <option value="">--</option>
              <option>Male</option>
              <option>Female</option>
              <option>Other</option>
            </select>
          </div>

          <!-- Submit -->
          <button id="submitBtn" class="btn btn-primary">Submit</button>
        </div>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script>
      $("#submitBtn").on("click", function (event) {
        event.preventDefault();

        let valid = true;

        $("#userNameErr, #emailErr, #passwordErr, #confirmPasswordErr, #topicsErr, #genderErr").text("");
        $("#username, #email, #password, #confirmPassword").css("border-color", "");

        const username = $("#username").val().trim();
        if (username === "") {
          $("#username").css("border-color", "red");
          $("#userNameErr").text("This field must not be empty");
          valid = false;
        }

        const email = $("#email").val().trim();
        if (email === "") {
          $("#email").css("border-color", "red");
          $("#emailErr").text("This field must not be empty");
           valid = false;
        }

        const password = $("#password").val().trim();
        if (password === "") {
          $("#password").css("border-color", "red");
          $("#passwordErr").text("This field must not be empty");
           valid = false;
        }

        const confirmPassword = $("#confirmPassword").val().trim();
        if (confirmPassword === "") {
          $("#confirmPassword").css("border-color", "red");
          $("#confirmPasswordErr").text("This field must not be empty");
           valid = false;
        }

        if (password !== "" && confirmPassword !== "" && password !== confirmPassword) {
          $("#confirmPassword").css("border-color", "red");
          $("#confirmPasswordErr").text("Confirmed password mismatched the password");
           valid = false;
        }

        if ($(".topic:checked").length === 0) {
          $("#topicsErr").text("At least one topic must be selected");
           valid = false;
        }

        if ($("#gender").val() === "") {
          $("#genderErr").text("Please choose your gender");
           valid = false;
        }

        if (valid == true){
            alert('Form is valid');
        }
      });
    </script>
  </body>
</html>
